!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/gis/assets/",n(n.s=6)}([function(e,t,n){var a=n(1),r=n(2);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1},i=(a(r,s),r.locals?r.locals:{});e.exports=i},function(e,t,n){"use strict";var a,r=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},s=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function o(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},a=[],r=0;r<e.length;r++){var s=e[r],l=t.base?s[0]+t.base:s[0],h=n[l]||0,c="".concat(l," ").concat(h);n[l]=h+1;var d=o(c),u={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(i[d].references++,i[d].updater(u)):i.push({identifier:c,updater:y(u,t),references:1}),a.push(c)}return a}function h(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var r=n.nc;r&&(a.nonce=r)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var i=s(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function u(e,t,n,a){var r=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var s=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(s,i[t]):e.appendChild(s)}}function p(e,t,n){var a=n.css,r=n.media,s=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),s&&btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var f=null,m=0;function y(e,t){var n,a,r;if(t.singleton){var s=m++;n=f||(f=h(t)),a=u.bind(null,n,s,!1),r=u.bind(null,n,s,!0)}else n=h(t),a=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<n.length;a++){var r=o(n[a]);i[r].references--}for(var s=l(e,t),h=0;h<n.length;h++){var c=o(n[h]);0===i[c].references&&(i[c].updater(),i.splice(c,1))}n=s}}}},function(e,t,n){(t=n(3)(!1)).push([e.i,".leaflet-control-layers-toggle.leaflet-layerstree-named-toggle {\n    margin: 2px 5px;\n    width: auto;\n    height: auto;\n    background-image: none;\n}\n\n.leaflet-layerstree-node {\n}\n\n.leaflet-layerstree-header input{\n    margin-left: 0px;\n}\n\n\n.leaflet-layerstree-header {\n}\n\n.leaflet-layerstree-header-pointer {\n    cursor: pointer;\n}\n\n.leaflet-layerstree-header label {\n    display: inline-block;\n    cursor: pointer;\n}\n\n.leaflet-layerstree-header-label {\n}\n\n.leaflet-layerstree-header-name {\n}\n\n.leaflet-layerstree-header-space {\n}\n\n.leaflet-layerstree-children {\n    padding-left: 10px;\n}\n\n.leaflet-layerstree-children-nopad {\n    padding-left: 0px;\n}\n\n.leaflet-layerstree-closed {\n}\n\n.leaflet-layerstree-opened {\n}\n\n.leaflet-layerstree-hide {\n    display: none;\n}\n\n.leaflet-layerstree-nevershow {\n    display: none;\n}\n\n.leaflet-layerstree-expand-collapse {\n    cursor: pointer;\n}\n",""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",a=e[3];if(!a)return n;if(t&&"function"==typeof btoa){var r=(i=a,o=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(l," */")),s=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[n].concat(s).concat([r]).join("\n")}var i,o,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(a)for(var s=0;s<this.length;s++){var i=this[s][0];null!=i&&(r[i]=!0)}for(var o=0;o<e.length;o++){var l=[].concat(e[o]);a&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t){!function(e){if(void 0===e)throw new Error("Leaflet must be included first");e.Control.Layers.Tree=e.Control.Layers.extend({options:{closedSymbol:"+",openedSymbol:"&minus;",spaceSymbol:" ",selectorBack:!1,namedToggle:!1,collapseAll:"",expandAll:"",labelIsSelector:"both"},_initClassesNames:function(){this.cls={children:"leaflet-layerstree-children",childrenNopad:"leaflet-layerstree-children-nopad",hide:"leaflet-layerstree-hide",closed:"leaflet-layerstree-closed",opened:"leaflet-layerstree-opened",space:"leaflet-layerstree-header-space",pointer:"leaflet-layerstree-header-pointer",header:"leaflet-layerstree-header",neverShow:"leaflet-layerstree-nevershow",node:"leaflet-layerstree-node",name:"leaflet-layerstree-header-name",label:"leaflet-layerstree-header-label",selAllCheckbox:"leaflet-layerstree-sel-all-checkbox"}},initialize:function(t,n,a){this._scrollTop=0,this._initClassesNames(),this._baseTree=null,this._overlaysTree=null,e.Util.setOptions(this,a),e.Control.Layers.prototype.initialize.call(this,null,null,a),this._setTrees(t,n)},setBaseTree:function(e){return this._setTrees(e)},setOverlayTree:function(e){return this._setTrees(void 0,e)},addBaseLayer:function(e,t){throw"addBaseLayer is disabled"},addOverlay:function(e,t){throw"addOverlay is disabled"},removeLayer:function(e){throw"removeLayer is disabled"},collapse:function(){return this._scrollTop=this._sect().scrollTop,e.Control.Layers.prototype.collapse.call(this)},expand:function(){e.Control.Layers.prototype.expand.call(this);this._sect().scrollTop=this._scrollTop},onAdd:function(t){function n(e){e._layersTreeName&&(r.innerHTML=e._layersTreeName)}var a=e.Control.Layers.prototype.onAdd.call(this,t);if(this.options.namedToggle){var r=this._container.getElementsByClassName("leaflet-control-layers-toggle")[0];e.DomUtil.addClass(r,"leaflet-layerstree-named-toggle"),t.eachLayer((function(e){n(e)})),t.on("baselayerchange",(function(e){n(e.layer)}),this)}return a},expandTree:function(e){var t=e?this._overlaysList:this._baseLayersList;return t&&this._applyOnTree(t,!1),this._localExpand()},collapseTree:function(e){var t=e?this._overlaysList:this._baseLayersList;return t&&this._applyOnTree(t,!0),this._localExpand()},expandSelected:function(t){function n(t){var r=t.parentElement;if(r){if(e.DomUtil.hasClass(r,a.cls.children)&&!e.DomUtil.hasClass(t,a.cls.childrenNopad)&&e.DomUtil.removeClass(r,s),e.DomUtil.hasClass(r,a.cls.node)){var i=r.getElementsByClassName(a.cls.header)[0];a._applyOnTree(i,!1)}n(r)}}var a=this,r=t?this._overlaysList:this._baseLayersList;if(!r)return this;for(var s=this.cls.hide,i=this._layerControlInputs||r.getElementsByTagName("input"),o=0;o<i.length;o++){var l=i[o];this._getLayer&&!!this._getLayer(l.layerId).overlay!=!!t||l.checked&&n(l.parentElement.parentElement.parentElement.parentElement)}return this._localExpand()},_sect:function(){return this._section||this._form},_setTrees:function(e,t){var n=0;function a(e,t,r){return e&&e.layer&&(r||(e.layer._layersTreeName=e.name||e.label),t[n++]=e.layer),e&&e.children&&e.children.length&&e.children.forEach((function(e){a(e,t,r)})),t}function r(e){return Array.isArray(e)?{noShow:!0,children:e}:e}this._layerControlInputs&&(this._layerControlInputs=[]);for(var s=0;s<this._layers.length;++s)this._layers[s].layer.off("add remove",this._onLayerChange,this);this._layers=[],void 0!==e&&(this._baseTree=r(e)),void 0!==t&&(this._overlaysTree=r(t));var i=a(this._baseTree,{});for(var s in i)this._addLayer(i[s],s);var o=a(this._overlaysTree,{},!0);for(s in o)this._addLayer(o[s],s,!0);return this._map?this._update():this},_localExpand:function(){if(this._map&&e.DomUtil.hasClass(this._container,"leaflet-control-layers-expanded")){var t=this._sect().scrollTop;this.expand(),this._sect().scrollTop=t,this._scrollTop=t}return this},_applyOnTree:function(t,n){[{cls:this.cls.children,hide:n},{cls:this.cls.opened,hide:n},{cls:this.cls.closed,hide:!n}].forEach((function(n){for(var a=t.getElementsByClassName(n.cls),r=0;r<a.length;r++){var s=a[r];e.DomUtil.hasClass(s,this.cls.childrenNopad)||(n.hide?e.DomUtil.addClass(s,this.cls.hide):e.DomUtil.removeClass(s,this.cls.hide))}}),this)},_addItem:function(e){},_update:function(){return this._container?(e.Control.Layers.prototype._update.call(this),this._addTreeLayout(this._baseTree,!1),this._addTreeLayout(this._overlaysTree,!0),this._localExpand()):this},_addTreeLayout:function(e,t){if(e){var n=t?this._overlaysList:this._baseLayersList;this._expandCollapseAll(t,this.options.collapseAll,this.collapseTree),this._expandCollapseAll(t,this.options.expandAll,this.expandTree),this._iterateTreeLayout(e,n,t,[],e.noShow),this._checkDisabledLayers&&this._checkDisabledLayers()}},_expandCollapseAll:function(t,n,a,r){var s=t?this._overlaysList:this._baseLayersList;if(r=r||this,n){var i=document.createElement("div");i.className="leaflet-layerstree-expand-collapse",s.appendChild(i),i.innerHTML=n,i.tabIndex=0,e.DomEvent.on(i,"click keydown",(function(e){"keydown"===e.type&&32!==e.keyCode||(i.blur(),a.call(r,t),this._localExpand())}),this)}},_iterateTreeLayout:function(t,n,a,r,s){if(t){var i,o=L("div",this.cls.header,n),l=L("span"),h=L("span"),c=L("span",this.cls.closed,l,this.options.closedSymbol),d=L("span",this.cls.opened,l,this.options.openedSymbol),u=L("span",this.cls.space,null,this.options.spaceSymbol);this.options.selectorBack?(l.insertBefore(u,c),o.appendChild(h),o.appendChild(l)):(l.appendChild(u),o.appendChild(l),o.appendChild(h)),t.selectAllCheckbox&&((i=this._createCheckboxElement(!1)).className+=" "+this.cls.selAllCheckbox);var p=this.cls.hide;if(t.children){var f=L("div",this.cls.children,n),m=t.layer?l:o;e.DomUtil.addClass(m,this.cls.pointer),m.tabIndex=0,e.DomEvent.on(m,"click keydown",(function(t){"keydown"===t.type&&32!==t.keyCode||(m.blur(),e.DomUtil.hasClass(d,p)?(e.DomUtil.addClass(c,p),e.DomUtil.removeClass(d,p),e.DomUtil.removeClass(f,p)):(e.DomUtil.removeClass(c,p),e.DomUtil.addClass(d,p),e.DomUtil.addClass(f,p)),this._localExpand())}),this),i&&r.splice(0,0,n),t.children.forEach((function(e){var t=L("div",this.cls.node,f);this._iterateTreeLayout(e,t,a,r)}),this),i&&r.splice(0,1)}else e.DomUtil.addClass(l,this.cls.neverShow);var y,g=L(t.layer&&("both"===this.options.labelIsSelector||a&&"overlay"===this.options.labelIsSelector||!a&&"base"===this.options.labelIsSelector)?"label":"span",this.cls.label,h);if(t.layer){var v,b=this._map.hasLayer(t.layer),w=a?t.radioGroup:"leaflet-base-layers_"+e.Util.stamp(this);w?v=this._createRadioElement(w,b):E(v=this._createCheckboxElement(b),this),this._layerControlInputs&&this._layerControlInputs.push(v),v.layerId=e.Util.stamp(t.layer),e.DomEvent.on(v,"click",this._onInputClick,this),g.appendChild(v)}t.selectAllCheckbox&&(g.appendChild(i),("string"==typeof(y=t.selectAllCheckbox)||y instanceof String)&&(i.title=t.selectAllCheckbox),e.DomEvent.on(i,"click",(function(e){e.stopPropagation(),C(i.checked,this)}),this),T(n),E(i,this));L("span",this.cls.name,g,t.label);e.DomUtil.addClass(t.collapsed?d:c,p),t.collapsed&&f&&e.DomUtil.addClass(f,p),s&&(e.DomUtil.addClass(o,this.cls.neverShow),e.DomUtil.addClass(f,this.cls.childrenNopad));var _=t.eventedClasses;_ instanceof Array||(_=[_]);for(var N=0;N<_.length;N++){var M=_[N];if(M&&M.className){var x=n.querySelector("."+M.className);x&&e.DomEvent.on(x,M.event||"click",function(e){return function(a){a.stopPropagation();var r,s=(r=e)&&"[object Function]"==={}.toString.call(r)?e(a,n,t,this._map):e;null!=s&&C(s,this)}}(M.selectAll),this)}}}function L(t,n,a,r){var s=e.DomUtil.create(t,n,a);return r&&(s.innerHTML=r),s}function T(e){var t=e.querySelector("input[type=checkbox]"),n=!0,a=!0,r=e.querySelectorAll("input[type=checkbox]");[].forEach.call(r,(function(e){e===t||(e.indeterminate?(n=!1,a=!1):e.checked?a=!1:e.checked||(n=!1))})),n?(t.indeterminate=!1,t.checked=!0):a?(t.indeterminate=!1,t.checked=!1):(t.indeterminate=!0,t.checked=!1)}function E(t,n){r.forEach((function(a){e.DomEvent.on(t,"click",(function(e){T(a)}),n)}),n)}function C(e,t){for(var a=n.getElementsByTagName("input"),r=0;r<a.length;r++){var s=a[r];"checkbox"===s.type&&(s.checked=e,s.indeterminate=!1)}t._onInputClick()}},_createCheckboxElement:function(e){var t=document.createElement("input");return t.type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=e,t}}),e.control.layers.tree=function(t,n,a){return new e.Control.Layers.Tree(t,n,a)}}(L)},function(e,t){!function(e){var t,n=(t=e.documentMode,"onhashchange"in e&&(void 0===t||t>7));L.Hash=function(e,t){this.onHashChange=L.Util.bind(this.onHashChange,this),e&&this.init(e,t)},L.Hash.parseHash=function(e){0===e.indexOf("#")&&(e=e.substr(1));var t=e.split("/");if(4==t.length){var n=parseInt(t[0],10),a=parseFloat(t[1]),r=parseFloat(t[2]),s=t[3].split("-");return!(isNaN(n)||isNaN(a)||isNaN(r))&&{center:new L.LatLng(a,r),zoom:n,layers:s}}return!1},L.Hash.formatHash=function(e){var t=e.getCenter(),n=e.getZoom(),a=Math.max(0,Math.ceil(Math.log(n)/Math.LN2)),r=[],s=this.options;for(var i in s)s.hasOwnProperty(i)&&e.hasLayer(s[i])&&r.push(i);return"#"+[n,t.lat.toFixed(a),t.lng.toFixed(a),r.join("-")].join("/")},L.Hash.prototype={map:null,lastHash:null,parseHash:L.Hash.parseHash,formatHash:L.Hash.formatHash,init:function(e,t){this.map=e,L.Util.setOptions(this,t),this.lastHash=null,this.onHashChange(),this.isListening||this.startListening()},removeFrom:function(e){this.changeTimeout&&clearTimeout(this.changeTimeout),this.isListening&&this.stopListening(),this.map=null},onMapMove:function(){if(this.movingMap||!this.map._loaded)return!1;var e=this.formatHash(this.map);this.lastHash!=e&&(location.replace(e),this.lastHash=e)},movingMap:!1,update:function(){var e=location.hash;if(e!==this.lastHash){var t=this.parseHash(e);if(t){this.movingMap=!0,this.map.setView(t.center,t.zoom);var n=t.layers,a=this.options,r=this;this.map.eachLayer((function(e){r.map.removeLayer(e)})),n.forEach((function(e,t,n){r.map.addLayer(a[e])})),this.movingMap=!1}else this.onMapMove(this.map)}},changeDefer:100,changeTimeout:null,onHashChange:function(){if(!this.changeTimeout){var e=this;this.changeTimeout=setTimeout((function(){e.update(),e.changeTimeout=null}),this.changeDefer)}},isListening:!1,hashChangeInterval:null,startListening:function(){this.map.on("moveend layeradd layerremove",this.onMapMove,this),n?L.DomEvent.addListener(e,"hashchange",this.onHashChange):(clearInterval(this.hashChangeInterval),this.hashChangeInterval=setInterval(this.onHashChange,50)),this.isListening=!0},stopListening:function(){this.map.off("moveend layeradd layerremove",this.onMapMove,this),n?L.DomEvent.removeListener(e,"hashchange",this.onHashChange):clearInterval(this.hashChangeInterval),this.isListening=!1},_keyByValue:function(e,t){for(var n in e)if(e.hasOwnProperty(n))return e[n]===t?n:null}},L.hash=function(e,t){return new L.Hash(e,t)},L.Map.prototype.addHash=function(){this._hash=L.hash(this,this.options)},L.Map.prototype.removeHash=function(){this._hash.removeFrom()}}(window)},function(e,t,n){"use strict";n.r(t);n(0),n(4),n(5);let a=" ";class r{static get separator(){return a}static set separator(e){a=e}static parse(e){if(!isNaN(parseFloat(e))&&isFinite(e))return Number(e);const t=String(e).trim().replace(/^-/,"").replace(/[NSEW]$/i,"").split(/[^0-9.,]+/);if(""==t[t.length-1]&&t.splice(t.length-1),""==t)return NaN;let n=null;switch(t.length){case 3:n=t[0]/1+t[1]/60+t[2]/3600;break;case 2:n=t[0]/1+t[1]/60;break;case 1:n=t[0];break;default:return NaN}return/^-|[WS]$/i.test(e.trim())&&(n=-n),Number(n)}static toDms(e,t="d",n){if(isNaN(e))return null;if("string"==typeof e&&""==e.trim())return null;if("boolean"==typeof e)return null;if(e==1/0)return null;if(null==e)return null;if(void 0===n)switch(t){case"d":case"deg":n=4;break;case"dm":case"deg+min":n=2;break;case"dms":case"deg+min+sec":n=0;break;default:t="d",n=4}e=Math.abs(e);let a=null,s=null,i=null,o=null;switch(t){default:case"d":case"deg":s=e.toFixed(n),s<100&&(s="0"+s),s<10&&(s="0"+s),a=s+"°";break;case"dm":case"deg+min":s=Math.floor(e),i=(60*e%60).toFixed(n),60==i&&(i=(0).toFixed(n),s++),s=("000"+s).slice(-3),i<10&&(i="0"+i),a=s+"°"+r.separator+i+"′";break;case"dms":case"deg+min+sec":s=Math.floor(e),i=Math.floor(3600*e/60)%60,o=(3600*e%60).toFixed(n),60==o&&(o=(0).toFixed(n),i++),60==i&&(i=0,s++),s=("000"+s).slice(-3),i=("00"+i).slice(-2),o<10&&(o="0"+o),a=s+"°"+r.separator+i+"′"+r.separator+o+"″"}return a}static toLat(e,t,n){const a=r.toDms(r.wrap90(e),t,n);return null===a?"–":a.slice(1)+r.separator+(e<0?"S":"N")}static toLon(e,t,n){const a=r.toDms(r.wrap180(e),t,n);return null===a?"–":a+r.separator+(e<0?"W":"E")}static toBrng(e,t,n){const a=r.toDms(r.wrap360(e),t,n);return null===a?"–":a.replace("360","0")}static fromLocale(e){const t=123456.789.toLocaleString(),n={thousands:t.slice(3,4),decimal:t.slice(7,8)};return e.replace(n.thousands,"⁜").replace(n.decimal,".").replace("⁜",",")}static toLocale(e){const t=123456.789.toLocaleString(),n={thousands:t.slice(3,4),decimal:t.slice(7,8)};return e.replace(/,([0-9])/,"⁜$1").replace(".",n.decimal).replace("⁜",n.thousands)}static compassPoint(e,t=3){if(![1,2,3].includes(Number(t)))throw new RangeError(`invalid precision ‘${t}’`);e=r.wrap360(e);const n=4*2**(t-1);return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.round(e*n/360)%n*16/n]}static wrap360(e){return 0<=e&&e<360?e:(e%360+360)%360}static wrap180(e){return-180<e&&e<=180?e:(e+540)%360-180}static wrap90(e){return-90<=e&&e<=90?e:Math.abs((e%360+270)%360-180)-90}}Number.prototype.toRadians=function(){return this*Math.PI/180},Number.prototype.toDegrees=function(){return 180*this/Math.PI};var s=r;class i{constructor(e,t,n){if(isNaN(e)||isNaN(e)||isNaN(e))throw new TypeError(`invalid vector [${e},${t},${n}]`);this.x=Number(e),this.y=Number(t),this.z=Number(n)}get length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}plus(e){if(!(e instanceof i))throw new TypeError("v is not Vector3d object");return new i(this.x+e.x,this.y+e.y,this.z+e.z)}minus(e){if(!(e instanceof i))throw new TypeError("v is not Vector3d object");return new i(this.x-e.x,this.y-e.y,this.z-e.z)}times(e){if(isNaN(e))throw new TypeError(`invalid scalar value ‘${e}’`);return new i(this.x*e,this.y*e,this.z*e)}dividedBy(e){if(isNaN(e))throw new TypeError(`invalid scalar value ‘${e}’`);return new i(this.x/e,this.y/e,this.z/e)}dot(e){if(!(e instanceof i))throw new TypeError("v is not Vector3d object");return this.x*e.x+this.y*e.y+this.z*e.z}cross(e){if(!(e instanceof i))throw new TypeError("v is not Vector3d object");const t=this.y*e.z-this.z*e.y,n=this.z*e.x-this.x*e.z,a=this.x*e.y-this.y*e.x;return new i(t,n,a)}negate(){return new i(-this.x,-this.y,-this.z)}unit(){const e=this.length;if(1==e)return this;if(0==e)return this;const t=this.x/e,n=this.y/e,a=this.z/e;return new i(t,n,a)}angleTo(e,t){if(!(e instanceof i))throw new TypeError("v is not Vector3d object");if(!(t instanceof i||null==t))throw new TypeError("n is not Vector3d object");const n=null==t||this.cross(e).dot(t)>=0?1:-1,a=this.cross(e).length*n,r=this.dot(e);return Math.atan2(a,r)}rotateAround(e,t){if(!(e instanceof i))throw new TypeError("axis is not Vector3d object");const n=t.toRadians(),a=this.unit(),r=e.unit(),s=Math.sin(n),o=Math.cos(n),l=1-o,h=r.x,c=r.y,d=r.z,u=[[l*h*h+o,l*h*c-s*d,l*h*d+s*c],[l*h*c+s*d,l*c*c+o,l*c*d-s*h],[l*h*d-s*c,l*c*d+s*h,l*d*d+o]],p=[u[0][0]*a.x+u[0][1]*a.y+u[0][2]*a.z,u[1][0]*a.x+u[1][1]*a.y+u[1][2]*a.z,u[2][0]*a.x+u[2][1]*a.y+u[2][2]*a.z];return new i(p[0],p[1],p[2])}toString(e=3){return`[${this.x.toFixed(e)},${this.y.toFixed(e)},${this.z.toFixed(e)}]`}}Number.prototype.toRadians=function(){return this*Math.PI/180},Number.prototype.toDegrees=function(){return 180*this/Math.PI};var o=i;const l={WGS84:{a:6378137,b:6356752.314245,f:1/298.257223563}},h={WGS84:{ellipsoid:l.WGS84}};Object.freeze(l.WGS84),Object.freeze(h.WGS84);class c{constructor(e,t,n=0){if(isNaN(e))throw new TypeError(`invalid lat ‘${e}’`);if(isNaN(t))throw new TypeError(`invalid lon ‘${t}’`);if(isNaN(n))throw new TypeError(`invalid height ‘${n}’`);this._lat=s.wrap90(Number(e)),this._lon=s.wrap180(Number(t)),this._height=Number(n)}get lat(){return this._lat}get latitude(){return this._lat}set lat(e){if(this._lat=isNaN(e)?s.wrap90(s.parse(e)):s.wrap90(Number(e)),isNaN(this._lat))throw new TypeError(`invalid lat ‘${e}’`)}set latitude(e){if(this._lat=isNaN(e)?s.wrap90(s.parse(e)):s.wrap90(Number(e)),isNaN(this._lat))throw new TypeError(`invalid latitude ‘${e}’`)}get lon(){return this._lon}get lng(){return this._lon}get longitude(){return this._lon}set lon(e){if(this._lon=isNaN(e)?s.wrap180(s.parse(e)):s.wrap180(Number(e)),isNaN(this._lon))throw new TypeError(`invalid lon ‘${e}’`)}set lng(e){if(this._lon=isNaN(e)?s.wrap180(s.parse(e)):s.wrap180(Number(e)),isNaN(this._lon))throw new TypeError(`invalid lng ‘${e}’`)}set longitude(e){if(this._lon=isNaN(e)?s.wrap180(s.parse(e)):s.wrap180(Number(e)),isNaN(this._lon))throw new TypeError(`invalid longitude ‘${e}’`)}get height(){return this._height}set height(e){if(this._height=Number(e),isNaN(this._height))throw new TypeError(`invalid height ‘${e}’`)}get datum(){return this._datum}set datum(e){this._datum=e}static get ellipsoids(){return l}static get datums(){return h}static parse(...e){if(0==e.length)throw new TypeError("invalid (empty) point");let t=void 0,n=void 0,a=void 0;if("object"==typeof e[0]&&(1==e.length||!isNaN(parseFloat(e[1])))){const r=e[0];if("Point"==r.type&&Array.isArray(r.coordinates)?([n,t,a]=r.coordinates,a=a||0):(null!=r.latitude&&(t=r.latitude),null!=r.lat&&(t=r.lat),null!=r.longitude&&(n=r.longitude),null!=r.lng&&(n=r.lng),null!=r.lon&&(n=r.lon),null!=r.height&&(a=r.height),t=s.wrap90(s.parse(t)),n=s.wrap180(s.parse(n))),null!=e[1]&&(a=e[1]),isNaN(t)||isNaN(n))throw new TypeError(`invalid point ‘${JSON.stringify(e[0])}’`)}if("string"==typeof e[0]&&2==e[0].split(",").length&&([t,n]=e[0].split(","),t=s.wrap90(s.parse(t)),n=s.wrap180(s.parse(n)),a=e[1]||0,isNaN(t)||isNaN(n)))throw new TypeError(`invalid point ‘${e[0]}’`);if(null==t&&null==n&&([t,n]=e,t=s.wrap90(s.parse(t)),n=s.wrap180(s.parse(n)),a=e[2]||0,isNaN(t)||isNaN(n)))throw new TypeError(`invalid point ‘${e.toString()}’`);return new this(t,n,a)}toCartesian(){const e=this.datum?this.datum.ellipsoid:this.referenceFrame?this.referenceFrame.ellipsoid:l.WGS84,t=this.lat.toRadians(),n=this.lon.toRadians(),a=this.height,{a:r,f:s}=e,i=Math.sin(t),o=Math.cos(t),h=Math.sin(n),c=Math.cos(n),u=2*s-s*s,p=r/Math.sqrt(1-u*i*i);return new d((p+a)*o*c,(p+a)*o*h,(p*(1-u)+a)*i)}equals(e){if(!(e instanceof c))throw new TypeError(`invalid point ‘${e}’`);return!(Math.abs(this.lat-e.lat)>Number.EPSILON)&&(!(Math.abs(this.lon-e.lon)>Number.EPSILON)&&(!(Math.abs(this.height-e.height)>Number.EPSILON)&&(this.datum==e.datum&&(this.referenceFrame==e.referenceFrame&&this.epoch==e.epoch))))}toString(e="d",t,n=null){if(!["d","dm","dms","n"].includes(e))throw new RangeError(`invalid format ‘${e}’`);const a=(this.height>=0?" +":" ")+this.height.toFixed(n)+"m";if("n"==e){return null==t&&(t=4),`${this.lat.toFixed(t)}, ${this.lon.toFixed(t)}${null==n?"":a}`}return`${s.toLat(this.lat,e,t)}, ${s.toLon(this.lon,e,t)}${null==n?"":a}`}}class d extends o{constructor(e,t,n){super(e,t,n)}toLatLon(e=l.WGS84){if(!e||!e.a)throw new TypeError(`invalid ellipsoid ‘${e}’`);const{x:t,y:n,z:a}=this,{a:r,b:s,f:i}=e,o=2*i-i*i,h=o/(1-o),d=Math.sqrt(t*t+n*n),u=s*a/(r*d)*(1+h*s/Math.sqrt(d*d+a*a)),p=u/Math.sqrt(1+u*u),f=p/u,m=isNaN(f)?0:Math.atan2(a+h*s*p*p*p,d-o*r*f*f*f),y=Math.atan2(n,t),g=Math.sin(m),v=d*Math.cos(m)+a*g-r*r/(r/Math.sqrt(1-o*g*g));return new c(m.toDegrees(),y.toDegrees(),v)}toString(e=0){return`[${this.x.toFixed(e)},${this.y.toFixed(e)},${this.z.toFixed(e)}]`}}const u={WGS84:{a:6378137,b:6356752.314245,f:1/298.257223563},Airy1830:{a:6377563.396,b:6356256.909,f:1/299.3249646},AiryModified:{a:6377340.189,b:6356034.448,f:1/299.3249646},Bessel1841:{a:6377397.155,b:6356078.962818,f:1/299.1528128},Clarke1866:{a:6378206.4,b:6356583.8,f:1/294.978698214},Clarke1880IGN:{a:6378249.2,b:6356515,f:1/293.466021294},GRS80:{a:6378137,b:6356752.31414,f:1/298.257222101},Intl1924:{a:6378388,b:6356911.946,f:1/297},WGS72:{a:6378135,b:6356750.5,f:1/298.26}},p={ED50:{ellipsoid:u.Intl1924,transform:[89.5,93.8,123.1,-1.2,0,0,.156]},ETRS89:{ellipsoid:u.GRS80,transform:[0,0,0,0,0,0,0]},Irl1975:{ellipsoid:u.AiryModified,transform:[-482.53,130.596,-564.557,-8.15,1.042,.214,.631]},NAD27:{ellipsoid:u.Clarke1866,transform:[8,-160,-176,0,0,0,0]},NAD83:{ellipsoid:u.GRS80,transform:[.9956,-1.9103,-.5215,-62e-5,.025915,.009426,.011599]},NTF:{ellipsoid:u.Clarke1880IGN,transform:[168,60,-320,0,0,0,0]},OSGB36:{ellipsoid:u.Airy1830,transform:[-446.448,125.157,-542.06,20.4894,-.1502,-.247,-.8421]},Potsdam:{ellipsoid:u.Bessel1841,transform:[-582,-105,-414,-8.3,1.04,.35,-3.08]},TokyoJapan:{ellipsoid:u.Bessel1841,transform:[148,-507,-685,0,0,0,0]},WGS72:{ellipsoid:u.WGS72,transform:[0,0,-4.5,-.22,0,0,.554]},WGS84:{ellipsoid:u.WGS84,transform:[0,0,0,0,0,0,0]}};Object.keys(u).forEach(e=>Object.freeze(u[e])),Object.keys(p).forEach(e=>{Object.freeze(p[e]),Object.freeze(p[e].transform)});class f extends c{constructor(e,t,n=0,a=p.WGS84){if(!a||null==a.ellipsoid)throw new TypeError(`unrecognised datum ‘${a}’`);super(e,t,n),this._datum=a}get datum(){return this._datum}static get ellipsoids(){return u}static get datums(){return p}static parse(...e){let t=p.WGS84;if((4==e.length||3==e.length&&"object"==typeof e[2])&&(t=e.pop()),!t||null==t.ellipsoid)throw new TypeError(`unrecognised datum ‘${t}’`);const n=super.parse(...e);return n._datum=t,n}convertDatum(e){if(!e||null==e.ellipsoid)throw new TypeError(`unrecognised datum ‘${e}’`);return this.toCartesian().convertDatum(e).toLatLon()}toCartesian(){const e=super.toCartesian();return new m(e.x,e.y,e.z,this.datum)}}class m extends d{constructor(e,t,n,a){if(a&&null==a.ellipsoid)throw new TypeError(`unrecognised datum ‘${a}’`);super(e,t,n),a&&(this._datum=a)}get datum(){return this._datum}set datum(e){if(!e||null==e.ellipsoid)throw new TypeError(`unrecognised datum ‘${e}’`);this._datum=e}toLatLon(e){e&&(console.info("datum parameter to Cartesian_Datum.toLatLon is deprecated: set datum before calling toLatLon()"),this.datum=e);const t=this.datum||p.WGS84;if(!t||null==t.ellipsoid)throw new TypeError(`unrecognised datum ‘${t}’`);const n=super.toLatLon(t.ellipsoid);return new f(n.lat,n.lon,n.height,this.datum)}convertDatum(e){if(!e||null==e.ellipsoid)throw new TypeError(`unrecognised datum ‘${e}’`);if(!this.datum)throw new TypeError("cartesian coordinate has no datum");let t=null,n=null;null!=this.datum&&this.datum!=p.WGS84||(t=this,n=e.transform),e==p.WGS84&&(t=this,n=this.datum.transform.map(e=>-e)),null==n&&(t=this.convertDatum(p.WGS84),n=e.transform);const a=t.applyTransform(n);return a.datum=e,a}applyTransform(e){const{x:t,y:n,z:a}=this,r=e[0],s=e[1],i=e[2],o=e[3]/1e6+1,l=(e[4]/3600).toRadians(),h=(e[5]/3600).toRadians(),c=(e[6]/3600).toRadians();return new m(r+t*o-n*c+a*h,s+t*c+n*o-a*l,i-t*h+n*l+a*o)}}class y{constructor(e,t,n,a,r=f.datums.WGS84,s=null,i=null,o=!0){if(!(1<=e&&e<=60))throw new RangeError(`invalid UTM zone ‘${e}’`);if(e!=parseInt(e))throw new RangeError(`invalid UTM zone ‘${e}’`);if("string"!=typeof t||!t.match(/[NS]/i))throw new RangeError(`invalid UTM hemisphere ‘${t}’`);if(o){if(!(0<=n&&n<=1e6))throw new RangeError(`invalid UTM easting ‘${n}’`);if("N"==t.toUpperCase()&&!(0<=a&&a<9328094))throw new RangeError(`invalid UTM northing ‘${a}’`);if("S"==t.toUpperCase()&&!(1118414<a&&a<=1e7))throw new RangeError(`invalid UTM northing ‘${a}’`)}if(!r||null==r.ellipsoid)throw new TypeError(`unrecognised datum ‘${r}’`);this.zone=Number(e),this.hemisphere=t.toUpperCase(),this.easting=Number(n),this.northing=Number(a),this.datum=r,this.convergence=null===s?null:Number(s),this.scale=null===i?null:Number(i)}toLatLon(){const{zone:e,hemisphere:t}=this,{a:n,f:a}=this.datum.ellipsoid,r=this.easting-5e5,s="S"==t?this.northing-1e7:this.northing,i=Math.sqrt(a*(2-a)),o=a/(2-a),l=o*o,h=o*l,c=o*h,d=o*c,u=o*d,p=n/(1+o)*(1+.25*l+1/64*c+1/256*u),f=r/(.9996*p),m=s/(.9996*p),y=[null,.5*o-2/3*l+37/96*h-1/360*c-81/512*d+96199/604800*u,1/48*l+1/15*h-437/1440*c+46/105*d-1118711/3870720*u,17/480*h-37/840*c-209/4480*d+5569/90720*u,4397/161280*c-11/504*d-830251/7257600*u,4583/161280*d-108847/3991680*u,.03233083094085698*u];let v=m;for(let e=1;e<=6;e++)v-=y[e]*Math.sin(2*e*m)*Math.cosh(2*e*f);let b=f;for(let e=1;e<=6;e++)b-=y[e]*Math.cos(2*e*m)*Math.sinh(2*e*f);const w=Math.sinh(b),_=Math.sin(v),N=Math.cos(v),M=_/Math.sqrt(w*w+N*N);let x=null,L=M;do{const e=Math.sinh(i*Math.atanh(i*L/Math.sqrt(1+L*L))),t=L*Math.sqrt(1+e*e)-e*Math.sqrt(1+L*L);x=(M-t)/Math.sqrt(1+t*t)*(1+(1-i*i)*L*L)/((1-i*i)*Math.sqrt(1+L*L)),L+=x}while(Math.abs(x)>1e-12);const T=L,E=Math.atan(T);let C=Math.atan2(w,N),S=1;for(let e=1;e<=6;e++)S-=2*e*y[e]*Math.cos(2*e*m)*Math.cosh(2*e*f);let A=0;for(let e=1;e<=6;e++)A+=2*e*y[e]*Math.sin(2*e*m)*Math.sinh(2*e*f);const k=Math.atan(Math.tan(v)*Math.tanh(b))+Math.atan2(A,S),D=Math.sin(E),$=.9996*(Math.sqrt(1-i*i*D*D)*Math.sqrt(1+T*T)*Math.sqrt(w*w+N*N))*(p/n/Math.sqrt(S*S+A*A));C+=(6*(e-1)-180+3).toRadians();const U=Number(E.toDegrees().toFixed(11)),z=Number(C.toDegrees().toFixed(11)),F=Number(k.toDegrees().toFixed(9)),I=Number($.toFixed(12)),O=new g(U,z,0,this.datum);return O.convergence=F,O.scale=I,O}static parse(e,t=f.datums.WGS84){if(null==(e=e.trim().match(/\S+/g))||4!=e.length)throw new Error(`invalid UTM coordinate ‘${e}’`);return new this(e[0],e[1],e[2],e[3],t)}toString(e=0){return`${this.zone.toString().padStart(2,"0")} ${this.hemisphere} ${this.easting.toFixed(e)} ${this.northing.toFixed(e)}`}}class g extends f{toUtm(e){if(!(-80<=this.lat&&this.lat<=84))throw new RangeError(`latitude ‘${this.lat}’ outside UTM limits`);let t=e||Math.floor((this.lon+180)/6)+1,n=(6*(t-1)-180+3).toRadians();const a="CDEFGHJKLMNPQRSTUVWXX".charAt(Math.floor(this.lat/8+10));31==t&&"V"==a&&this.lon>=3&&(t++,n+=6..toRadians()),32==t&&"X"==a&&this.lon<9&&(t--,n-=6..toRadians()),32==t&&"X"==a&&this.lon>=9&&(t++,n+=6..toRadians()),34==t&&"X"==a&&this.lon<21&&(t--,n-=6..toRadians()),34==t&&"X"==a&&this.lon>=21&&(t++,n+=6..toRadians()),36==t&&"X"==a&&this.lon<33&&(t--,n-=6..toRadians()),36==t&&"X"==a&&this.lon>=33&&(t++,n+=6..toRadians());const r=this.lat.toRadians(),s=this.lon.toRadians()-n,i=this.datum?this.datum.ellipsoid:f.ellipsoids.WGS84,{a:o,f:l}=i,h=Math.sqrt(l*(2-l)),c=l/(2-l),d=c*c,u=c*d,p=c*u,m=c*p,g=c*m,v=Math.cos(s),b=Math.sin(s),w=Math.tan(s),_=Math.tan(r),N=Math.sinh(h*Math.atanh(h*_/Math.sqrt(1+_*_))),M=_*Math.sqrt(1+N*N)-N*Math.sqrt(1+_*_),x=Math.atan2(M,v),L=Math.asinh(b/Math.sqrt(M*M+v*v)),T=o/(1+c)*(1+.25*d+1/64*p+1/256*g),E=[null,.5*c-2/3*d+5/16*u+41/180*p-127/288*m+7891/37800*g,13/48*d-.6*u+557/1440*p+281/630*m-1983433/1935360*g,61/240*u-103/140*p+15061/26880*m+167603/181440*g,49561/161280*p-179/168*m+6601661/7257600*g,34729/80640*m-3418889/1995840*g,.6650675310896665*g];let C=x;for(let e=1;e<=6;e++)C+=E[e]*Math.sin(2*e*x)*Math.cosh(2*e*L);let S=L;for(let e=1;e<=6;e++)S+=E[e]*Math.cos(2*e*x)*Math.sinh(2*e*L);let A=.9996*T*S,k=.9996*T*C,D=1;for(let e=1;e<=6;e++)D+=2*e*E[e]*Math.cos(2*e*x)*Math.cosh(2*e*L);let $=0;for(let e=1;e<=6;e++)$+=2*e*E[e]*Math.sin(2*e*x)*Math.sinh(2*e*L);const U=Math.atan(M/Math.sqrt(1+M*M)*w)+Math.atan2($,D),z=Math.sin(r),F=.9996*(Math.sqrt(1-h*h*z*z)*Math.sqrt(1+_*_)/Math.sqrt(M*M+v*v))*(T/o*Math.sqrt(D*D+$*$));A+=5e5,k<0&&(k+=1e7),A=Number(A.toFixed(6)),k=Number(k.toFixed(6));const I=Number(U.toDegrees().toFixed(9)),O=Number(F.toFixed(12)),R=this.lat>=0?"N":"S";return new y(t,R,A,k,this.datum,I,O,!!e)}}function v(){fetch(conf_data_path).then(e=>{200!=e.status&&console.error(`load_config failure\nurl=«${url}»\nfetch response status code: ${e.status}`),e.json().catch(e=>{console.error("load_config failure\nresp.json():",e)}).then(e=>{!function(e,t){console.log("makeGis confData",e);let n=e.gisOptions.mapOptions,a=e.gisOptions,r=L.map("map",{attributionControl:n.attributionControl||!1,zoom:n.zoom||5,minZoom:n.minZoom||2,maxZoom:n.maxZoom||14,maxBounds:n.maxBounds||[[-90,-180],[90,180]],center:n.center||[57,2.46],zoomControl:n.zoomControl||!0});if(r.zoomControl.setPosition("topright"),a.attributionControl){L.control.attribution({position:"bottomright",prefix:'<a target="_blank" href="https://qwilka.github.io/">Qwilka</a>'}).addTo(r)}if(a.scaleControl){L.control.scale({position:"bottomleft",metric:!0,imperial:!1}).addTo(r)}L.tileLayer("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAQMAAABmvDolAAAAA1BMVEX///+nxBvIAAAAH0lEQVQYGe3BAQ0AAADCIPunfg43YAAAAAAAAAAA5wIhAAAB9aK9BAAAAABJRU5ErkJggg==");var s={};let i=e["ftree_vnleaf_"+t.toString()];i||(i=e.tree_vnleaf_0);let o={label:"World base maps &#x1f5fa;",children:[]},l=[];for(let e=0;e<i.length;e++){let t=i[e];console.log("ftree_toplevel.type",t.type),"gis-folder-basemaps"===t.type?o=w(t,r,s):t.type.startsWith("gis-folder")&&(console.log("ftree_toplevel.title",t.title),l.push(w(t,r,s)))}new L.Hash(r,s);let h,c=L.control.layers.tree(o,l,{collapseAll:'<font color="#909090" size="2">(close all)</font>',collapsed:!0});c.addTo(r),c.setPosition("topleft"),c.collapseTree(!1),c.collapseTree(!0),a.locationPopup&&(h=L.popup(),r.on("contextmenu",e=>{!function(e){let t="https://www.gebco.net/data_and_products/gebco_web_services/web_map_service/mapserv",n=r.layerPointToContainerPoint(e.layerPoint).x,a=r.layerPointToContainerPoint(e.layerPoint).y,s=r.getSize(),i={request:"GetFeatureInfo",service:"WMS",srs:"EPSG:4326",version:"1.1.1",bbox:r.getBounds().toBBoxString(),x:n,y:a,height:s.y,width:s.x,layers:"GEBCO_LATEST_2",query_layers:"GEBCO_LATEST_2",info_format:"text/html"},o=t+L.Util.getParamString(i,t,!0),l=$.ajax({url:o,dataType:"html",success:function(e){console.log("getinfo successfully loaded!\n",e)},error:function(e){console.log("getinfo ERROR!\n",e.statusText)}});$.when(l).done((function(){let e=$.parseHTML(l.responseText);$(e).find("body:first");$.each(e,(function(e,t){if("#text"==t.nodeName){let e=t.nodeValue.match(/Elevation value \(m\):\s*(-?\d+)/);if(e){let t=e[1];m+=t>=0?"<br>elevation "+t+" m (GEBCO)":"<br>depth "+t+" m (GEBCO)",h.setContent(m)}}}))}));let c=e.latlng.lat,d=e.latlng.lng;console.log("long",d,"lat",c);let u=new g(c,d),p=u.convertDatum(g.datums.ED50);console.log("latlong_WGS84 ",u.toString()),p=new g(p.lat,p.lon,0,g.datums.ED50);let f=p.toUtm(),m="Location coordinates:";m+="<br>long. "+d.toFixed(5)+"&deg;  lat. "+c.toFixed(5)+"&deg; (WGS84)",m+="<br>UTM zone "+f.zone+f.hemisphere,m+="<br>E"+f.easting.toFixed(1)+" N"+f.northing.toFixed(1)+" (ED50)",h.setLatLng(e.latlng).setContent(m).openOn(r)}(e)}))}(e,0)})}).catch(e=>{console.error("load_config failure top-level:",e)})}function b(e){let t;switch(e.data.layerType){case"tilemap":t=L.tileLayer(e.data.url,e.data.layerOpts);break;case"WMS":t=L.tileLayer.wms(e.data.url,e.data.layerOpts)}return t}function w(e,t,n){let a=[];for(let r=0;r<e.children.length;r++){let s=e.children[r];if(s.type.startsWith("gis-layer")){let e=b(s);a.push({label:s.title,layer:e}),s.data.layerId&&(n[s.data.layerId]=e),s.selected&&t.addLayer(e)}else if(s.type.startsWith("gis-folder")){let e=w(s,t,n);a.push(e)}}return{label:e.title,children:a}}window.onload=()=>{v()}}]);